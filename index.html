<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dalhousie Trip Birthday</title>
<style>
/* Reset and full height */
* { box-sizing: border-box; margin:0; padding:0; }
html, body { width: 100%; height: 100%; font-family: Arial, sans-serif; overflow: hidden; }

/* Stage wrapper */
.stage-wrapper { position: relative; width: 100%; height: 100%; }

/* Stage styling */
.stage {
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 100vh; /* full viewport height */
  display: flex;
  flex-direction: column;
  justify-content: center; /* vertically center */
  align-items: center;     /* horizontally center */
  text-align: center;
  opacity: 0;
  transition: opacity 0.7s ease;
  z-index: 0;
}

.stage.active { opacity: 1; z-index: 1; }

/* Text & buttons */
h1 { color: #000; font-size: 2em; margin-bottom: 20px; }
.cake { font-size: 1.5em; }

input[type="text"] {
  padding: 10px 15px;
  font-size: 1.1em;
  border-radius: 8px;
  border: 1px solid #ccc;
  margin-bottom: 20px;
}

button {
  padding: 12px 25px;
  font-size: 1.2em;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s;
}
#goBtn { background-color: #4CAF50; color: white; }
#startBtn { background-color: #ff6f61; color: white; }
#memoryStart { background-color: #ffb347; color: white; }
.nextBtn, .prevBtn { background-color: #1E90FF; color:white; margin: 10px; }
button:hover { transform: scale(1.05); }

/* Video & memory images */
video { max-width: 90%; border-radius: 10px; margin-top: 20px; }
#memoryImg { max-width: 90%; max-height: 60%; border-radius: 10px; margin-top: 20px; }

/* Final stage */
#finalStage { background-color: pink; color: white; display:flex; flex-direction:column; justify-content:center; align-items:center; }

/* Balloons animation */
.balloon {
  position: absolute;
  width: 50px;
  height: 70px;
  border-radius: 50% 50% 50% 50%;
  bottom: -100px;
  animation: rise linear infinite;
}
@keyframes rise {
  0% { transform: translateY(0) rotate(0deg); }
  100% { transform: translateY(-120vh) rotate(360deg); }
}
</style>
</head>
<body>

<div class="stage-wrapper">

  <!-- Stage 1 -->
  <div class="stage active" id="stage1" style="background: url('background.jpg') no-repeat center center; background-size: cover;">
    <h1 id="stage1Header">All friends from Dalhousie trip wish you a very happy birthday <span class="cake">ðŸŽ‚</span></h1>
    <input type="text" id="firstName" placeholder="Enter your first name">
    <button id="goBtn">GO</button>
  </div>

  <!-- Stage 2 -->
  <div class="stage" id="stage2" style="background: url('background.jpg') no-repeat center center; background-size: cover;">
    <h1 id="greetName">Happy Birthday!</h1>
    <button id="startBtn">Can we start?</button>
  </div>

  <!-- Stage 3: Video -->
  <div class="stage" id="stage3" style="background: pink;">
    <video id="birthdayVideo" controls>
      <source src="video.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <button id="memoryStart">Memory Start</button>
  </div>

  <!-- Stage 4: Memories -->
  <div class="stage" id="stage4" style="background:black;">
    <img id="memoryImg" src="mem1.jpg" alt="Memory Image">
    <div>
      <button class="prevBtn">Previous</button>
      <button class="nextBtn">Next</button>
    </div>
  </div>

  <!-- Stage 5: Final -->
  <div class="stage" id="finalStage">
    <h1>Wish you a good day! ðŸŽ‰</h1>
  </div>

</div>

<div id="balloonsContainer"></div>

<script>
// Balloons
function createBalloons(num=15){
  const container = document.getElementById('balloonsContainer');
  for(let i=0;i<num;i++){
    const b=document.createElement('div');
    b.className='balloon';
    b.style.left=Math.random()*90+'%';
    b.style.background=`hsl(${Math.random()*360},70%,60%)`;
    b.style.animationDuration=8+Math.random()*5+'s';
    container.appendChild(b);
  }
}
createBalloons();

// Stage navigation
let currentStage = 0;
function goToStage(index){
  const stages = document.querySelectorAll('.stage');
  stages.forEach((s,i)=> s.classList.toggle('active', i===index));
  document.getElementById('balloonsContainer').style.display = (index<=1)?'block':'none';
}

// Stage 1 â†’ Stage 2
document.getElementById('goBtn').addEventListener('click', ()=>{
  const name = document.getElementById('firstName').value || '';
  document.getElementById('stage1Header').textContent = `All friends from Dalhousie trip wish you a very happy birthday, ${name} ðŸŽ‚`;
  document.getElementById('greetName').textContent = `Happy Birthday, ${name}! ðŸŽ‚`;
  goToStage(1);
});

// Stage 2 â†’ Stage 3
document.getElementById('startBtn').addEventListener('click', ()=>{
  goToStage(2);
  document.getElementById('birthdayVideo').play();
});

// Stage 3 â†’ Stage 4 after video ends
document.getElementById('birthdayVideo').addEventListener('ended', ()=>{
  goToStage(3);
});

// Memory images
const memoryImages=['mem1.jpg','mem2.jpg','mem3.jpg','mem4.jpg','mem5.jpg','mem6.jpg','mem7.jpg'];
let memIndex=0;
const memImg=document.getElementById('memoryImg');

document.querySelector('.nextBtn').addEventListener('click', ()=>{
  if(memIndex<memoryImages.length-1){ memIndex++; memImg.src=memoryImages[memIndex]; } 
  else goToStage(4);
});

document.querySelector('.prevBtn').addEventListener('click', ()=>{
  if(memIndex>0){ memIndex--; memImg.src=memoryImages[memIndex]; }
});

// Memory Start button
document.getElementById('memoryStart').addEventListener('click', ()=>{
  goToStage(3);
  document.getElementById('birthdayVideo').pause();
});
</script>

</body>
</html>
