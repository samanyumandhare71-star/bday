<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Birthday Celebration</title>
<style>
body {
  margin:0;
  overflow:hidden;
  background: url('background.jpg') no-repeat center center fixed;
  background-size: cover;
  font-family: Arial, sans-serif;
}
canvas {
  position: fixed;
  top:0;
  left:0;
  z-index:0;
  pointer-events: none;
}

/* Dalhousie Title */
.title {
  color: gold;
  text-shadow: 0 0 10px #fff,0 0 20px gold;
  font-size: 28px;
  text-align: center;
  position: absolute;
  top:15%;
  width:100%;
  z-index:2;
}

/* Name Input */
.name-box, .video-section {
  position:absolute;
  top:50%;
  left:50%;
  transform: translate(-50%,-50%);
  text-align:center;
  z-index:2;
}
.name-input { 
  padding:10px; font-size:18px; border-radius:8px; border:none; text-align:center; width:70vw; max-width:300px; 
}
.start-btn { 
  padding:10px 20px; font-size:16px; font-weight:bold; border:none; border-radius:8px; 
  background:#ff6a00; color:white; cursor:pointer; box-shadow:0 4px 10px rgba(0,0,0,0.3);
}
.start-btn:hover { transform: scale(1.05); }

/* Video */
#birthdayVideo { width:80vw; max-width:600px; height:auto; border-radius:12px; margin-top:15px; }

/* Memories Section */
#memoriesScreen {
  display:none;
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background-color:black;
  z-index:2;
  display:flex; justify-content:center; align-items:center; flex-direction:column;
}
#memoryImg {
  max-width:80vw; 
  max-height:60vh; 
  border-radius:12px; 
  box-shadow:0 0 15px gold; 
  object-fit:contain;
  margin-bottom:10px;
}
#prevBtn,#nextBtn {
  padding:10px 20px; font-size:16px; border-radius:8px; border:none;
  background:#1e90ff; color:white; cursor:pointer; margin:5px;
}
#prevBtn:hover,#nextBtn:hover{transform:scale(1.05);}

/* Memories Button */
.memories-section {
  position:absolute; top:80%; width:100%; text-align:center; display:none; z-index:2;
}
.memories-section button {
  padding:12px 25px; font-size:16px; font-weight:bold; border:none; border-radius:10px;
  background:#32cd32; color:white; cursor:pointer;
}
.memories-section button:hover { transform:scale(1.05);}
</style>
</head>
<body>

<div class="title" id="title">As a Dalhousie members we wish [Name] a very happy birthday üéÇ</div>

<div class="name-box" id="nameBox">
  <input type="text" id="nameInput" placeholder="Enter your name üéÇ">
  <button class="start-btn" onclick="setName()">Start</button>
</div>

<div class="video-section" id="videoBox">
  <div id="birthdayMessage"></div>
  <button onclick="startVideo()">üé¨ Can we start?</button><br>
  <video id="birthdayVideo" controls style="display:none;">
    <source src="video.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</div>

<div class="memories-section" id="memoriesBox">
  <button onclick="startMemories()">üì∏ Some Memories üì∏</button>
</div>

<div id="memoriesScreen">
  <img id="memoryImg" src="">
  <div>
    <button id="prevBtn" onclick="prevMemory()">‚¨ÖÔ∏è Prev</button>
    <button id="nextBtn" onclick="nextMemory()">‚û°Ô∏è Next</button>
  </div>
</div>

<canvas id="canvas"></canvas>

<script>
// Name Input
function setName(){
  const name=document.getElementById("nameInput").value || "Friend";
  document.getElementById("birthdayMessage").innerText = "üéâ Happy Birthday " + name + "! üéÇ";
  document.getElementById("nameBox").style.display="none";
  document.getElementById("title").style.display="none";
  document.getElementById("videoBox").style.display="block";
}

// Video
function startVideo(){
  const video=document.getElementById("birthdayVideo");
  video.style.display="block";
  video.play();
  video.onended = function(){
    document.getElementById("memoriesBox").style.display="block";
  };
}

// Memories
const memories = ["mem1.jpg","mem2.jpg","mem3.jpg","mem4.jpg","mem5.jpg","mem6.jpg","mem7.jpg"];
let currentMemory = 0;

function startMemories(){
  document.getElementById("memoriesBox").style.display="none";
  document.getElementById("videoBox").style.display="none";
  const screen = document.getElementById("memoriesScreen");
  screen.style.display="flex";
  currentMemory = 0;
  showMemory();
}

function showMemory(){
  const img = document.getElementById("memoryImg");
  const screen = document.getElementById("memoriesScreen");
  
  if(currentMemory >= memories.length){
    img.style.display="none";
    document.getElementById("prevBtn").style.display = "none";
    document.getElementById("nextBtn").style.display = "none";
    screen.innerHTML = `<p style="font-size:28px;color:gold;text-align:center;margin-top:20px;">üéâ Wish you a wonderful day! üéâ</p>`;
    return;
  }
  
  img.style.display = "block";
  img.src = memories[currentMemory];
  document.getElementById("prevBtn").style.display = currentMemory===0 ? "none" : "inline-block";
  document.getElementById("nextBtn").style.display = "inline-block";
}

function nextMemory(){
  if(currentMemory < memories.length-1){
    currentMemory++;
    showMemory();
  } else {
    currentMemory = memories.length;
    showMemory();
  }
}
function prevMemory(){
  if(currentMemory > 0){
    currentMemory--;
    showMemory();
  }
}

// Confetti & Balloons
const c=document.getElementById('canvas');
const ctx=c.getContext('2d');
function resizeCanvas(){c.width=window.innerWidth; c.height=window.innerHeight;}
window.addEventListener('resize',resizeCanvas);
resizeCanvas();

class Confetti{
  constructor(){this.x=Math.random()*c.width; this.y=-10; this.size=4+Math.random()*6; this.color=`hsl(${Math.random()*360},100%,60%)`; this.vx=(Math.random()-0.5)*2; this.vy=2+Math.random()*3;}
  update(){this.x+=this.vx; this.y+=this.vy;}
  draw(){ctx.fillStyle=this.color; ctx.fillRect(this.x,this.y,this.size,this.size);}
}
class Balloon{
  constructor(){this.x=Math.random()*c.width; this.y=c.height+40; this.size=20+Math.random()*25; this.color=`hsl(${Math.random()*360},70%,60%)`; this.vy=-(1+Math.random()*1.2);}
  update(){this.y+=this.vy;}
  draw(){ctx.beginPath();ctx.ellipse(this.x,this.y,this.size*0.6,this.size,0,0,Math.PI*2); ctx.fillStyle=this.color; ctx.fill();}
}
const confetti=[]; const balloons=[];
function spawn(){if(Math.random()<0.4) confetti.push(new Confetti()); if(Math.random()<0.02) balloons.push(new Balloon());}
function draw(){ctx.clearRect(0,0,c.width,c.height); confetti.forEach((p,i)=>{p.update();p.draw(); if(p.y>c.height) confetti.splice(i,1);}); balloons.forEach((b,i)=>{b.update();b.draw(); if(b.y<-40) balloons.splice(i,1);}); requestAnimationFrame(draw); spawn();}
draw();
</script>

</body>
</html>